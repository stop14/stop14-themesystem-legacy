/**
 *  @file _card.sass
 *  @category 60_site_elements
 *  @group content
 *  @theme LOCAL
 *  @description Defines a basic content card view.
 *
 *  USAGE NOTES:
 *  This template uses the templates/content/node--card twig file
 *  It expects that two optional field groups be set up through the admin UI:
 *  - group_header, with an HTML element <header>
 *  - group_footer, with an HTML element <footer>
 *
 *  The template will place anything in the header above the title, and anything
 *  in the footer below the More link. This implementation expects basic metadata labels and values to be displayed
 *  in the footer.
 *
 **/

$card_footer_element_spacing: $text_element_spacing

.card
  background-color: $white
  border-radius: $border-radius
  border: 1px solid neutral(5)
  padding: rv($mobile_edge_padding_factor)
  font-size: clamped(-1,0)
  max-width: 750px

  @at-root .visible &
    +fadeInUp($slow,$heartbeat * 3,$heartbeat*3)

  header + .node--content
    margin-top: rv($mobile_edge_padding_factor)

  a
    text-decoration: none
    cursor: pointer !important // The whole card is linked, so subelements should not be able to supply a cursor.

  &:focus, &:hover
    background-color: set-color-tint(2,3)

    figure
      img
        transform: scale(1.1)
        transition: all $heartbeat ease-in-out

    footer
      border-top-color: mix(set-color-tint(2,5),neutral(5),50%)


  +clearfix()

  h3
    padding-bottom: 0
    margin-bottom: rv(-4)

    a:hover
      color: set-color(2)
      border: 0

  .content-label, .content-label-compact
    & + h3
      margin-top: 2px

  .content-label-compact
    display: inline-flex

  .new
    position: absolute
    top: rv($mobile_edge_padding_factor)
    right: rv($mobile_edge_padding_factor)
    z-index: 2

    +dark
      color: $black

  .media
    .image, .video, .remote-video
      +proportional-height(100%,0.75)

    .image
      img
        object-fit: cover
        height: 100%
        width: 100%
        transition: all $heartbeat ease-in-out

  footer
    margin-top: rv($mobile_edge_padding_factor)
    padding-top: rv($mobile_edge_padding_factor)
    display: flex
    flex-direction: row
    justify-content: flex-start
    border-top: 1px solid neutral(5)
    box-sizing: border-box

    > *
      margin-right: rv($mobile_edge_padding_factor)

      &:last-child
        margin-right: 0

    .field-value
      @extend %value

    .label, .value, .field-value
      color: neutral(60)
      font-size: clamped(-2,-1) !important

      a
        color: inherit
        font-weight: inherit

    .lozenge
      .field-value
        color: $white

  .submission-info
    display: flex
    font-size: clamped(-2,-1)
    margin-right: $text_element_spacing * 2
    margin-bottom: $text_element_spacing

    &:last-child
      margin-right: 0

    .label, .value
      display: inline
      color: neutral(50)

    .label
      margin-right: $text_element_spacing
